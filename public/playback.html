<!DOCTYPE html>
<html>
  <head>
    <title>Playback demo</title>
    <link rel="stylesheet" href="css/playback.css">
    <link rel="stylesheet" href="css/controls.css">
  </head>
  <body>
    <div>
      <div id="media">
        <div class="video"></div>
      </div>
      <button id="addEvent">Add Event</button>
      <div id="controls" class="controls"><div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.9.1.min.js"><\/script>')</script>
    <script src="js/popcorn.js"></script>
    <script src="js/popcorn.code.js"></script>
    <script src="js/popcorn.sequencer.js"></script>
    <script src="js/require.js"></script>
    <script>
      var p = Popcorn.smart("#media", "#t=,100", { frameAnimation: true })
        .sequencer({
          volume: 100,
          start: 0,
          end: 100,
          duration: 100,
          target: "media",
          width: 50,
          height: 50,
          zindex: 1,
          source: "in-the-name/in-the-name-march-2011.mp3"
        });

      var require = requirejs.config({
        baseUrl: "/js",
        paths: {
          "text": "require.text"
        }
      });

      require( [ "ui/widget/controls" ], function( Controls ) {
        p.controls( true );
        Controls.create( "controls", p );
      });

      var $addEvent = $("#addEvent");
      $addEvent.click(function () {
          p.code({
          start: 15,
          end: 30,
          onStart: function( options ) {
            console.log("Hahahahah!");
          },
          onEnd: function( options ) {
            console.log("STOP LAUGHING!");
          }
        })
      });
      
    </script>
  </body>
</html>
